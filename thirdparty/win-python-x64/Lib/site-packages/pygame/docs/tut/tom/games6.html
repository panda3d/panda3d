<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Putting it all together</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
HREF="MakeGames.html"><LINK
REL="PREVIOUS"
TITLE="User-controllable objects"
HREF="games5.html"> <style type="text/stylesheet">
	<!--
	PRE.PROGRAMLISTING	{ background-color: #EEEEEE; border-color: #333333; border-style: solid; border-width: thin }	-->
 </style></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
>

<DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="games5.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
>&nbsp;</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN194"
></A
>6. Putting it all together</H1
><P
>So far you've learnt all the basics necessary to build a simple game. You should understand how to create Pygame objects, how Pygame
displays objects, how it handles events, and how you can use physics to introduce some motion into your game. Now I'll just show how
you can take all those chunks of code and put them together into a working game. What we need first is to let the ball hit the sides
of the screen, and for the bat to be able to hit the ball, otherwise there's not going to be much game play involved. We do this
using Pygame's <TT
CLASS="FUNCTION"
>collision</TT
> methods.</P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN198"
></A
>6.1. Let the ball hit sides</H2
><P
>The basics principle behind making it bounce of the sides is easy to grasp. You grab the coordinates of the four corners of the ball,
and check to see if they correspond with the x or y coordinate of the edge of the screen. So if the top right and top left corners both
have a y coordinate of zero, you know that the ball is currently on the top edge of the screen. We do all this in the <TT
CLASS="FUNCTION"
>update</TT
> function, after we've worked out the new position of the ball.</P
><PRE
CLASS="PROGRAMLISTING"
>if not self.area.contains(newpos):
	tl = not self.area.collidepoint(newpos.topleft)
	tr = not self.area.collidepoint(newpos.topright)
	bl = not self.area.collidepoint(newpos.bottomleft)
	br = not self.area.collidepoint(newpos.bottomright)
	if tr and tl or (br and bl):
		angle = -angle
	if tl and bl:
		self.offcourt(player=2)
	if tr and br:
		self.offcourt(player=1)

self.vector = (angle,z)</PRE
><P
>Here we check to see if the <TT
CLASS="FUNCTION"
>area</TT
> contains the new position of the ball (it always should, so we needn't have an <TT
CLASS="FUNCTION"
>else</TT
> clause, though in other circumstances you might want to consider it. We then check if the coordinates for the four corners
are <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>colliding</I
></SPAN
> with the area's edges, and create objects for each result. If they are, the objects will have a value of 1,
or TRUE. If they don't, then the value will be <TT
CLASS="FUNCTION"
>None</TT
>, or FALSE. We then see if it has hit the top or bottom, and if it
has we change the ball's direction. Handily, using radians we can do this by simply reversing its positive/negative value. We also
check to see if the ball has gone off the sides, and if it has we call the <TT
CLASS="FUNCTION"
>offcourt</TT
> function. This, in my game, resets the
ball, adds 1 point to the score of the player specified when calling the function, and displays the new score.</P
><P
>Finally, we recompile the vector based on the new angle. And that is it. The ball will now merrily bounce off the walls and go
offcourt with good grace.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN210"
></A
>6.2. Let the ball hit bats</H2
><P
>Making the ball hit the bats is very similar to making it hit the sides of the screen. We still use the collide method, but this time
we check to see if the rectangles for the ball and either bat collide. In this code I've also put in some extra code to avoid various
glitches. You'll find that you'll have to put all sorts of extra code in to avoid glitches and bugs, so it's good to get used to seeing
it.</P
><PRE
CLASS="PROGRAMLISTING"
>else:
	# Deflate the rectangles so you can't catch a ball behind the bat
	player1.rect.inflate(-3, -3)
	player2.rect.inflate(-3, -3)

	# Do ball and bat collide?
	# Note I put in an odd rule that sets self.hit to 1 when they collide, and unsets it in the next
	# iteration. this is to stop odd ball behaviour where it finds a collision *inside* the
	# bat, the ball reverses, and is still inside the bat, so bounces around inside.
	# This way, the ball can always escape and bounce away cleanly
	if self.rect.colliderect(player1.rect) == 1 and not self.hit:
		angle = math.pi - angle
		self.hit = not self.hit
	elif self.rect.colliderect(player2.rect) == 1 and not self.hit:
		angle = math.pi - angle
		self.hit = not self.hit
	elif self.hit:
		self.hit = not self.hit
self.vector = (angle,z)</PRE
><P
>We start this section with an <TT
CLASS="FUNCTION"
>else</TT
> statement, because this carries on from the previous chunk of code to check if the ball
hits the sides. It makes sense that if it doesn't hit the sides, it might hit a bat, so we carry on the conditional statement. The
first glitch to fix is to shrink the players' rectangles by 3 pixels in both dimensions, to stop the bat catching a ball that goes
behind them (if you imagine you just move the bat so that as the ball travels behind it, the rectangles overlap, and so normally the
ball would then have been "hit" - this prevents that).</P
><P
>Next we check if the rectangles collide, with one more glitch fix. Notice that I've commented on these odd bits of code - it's always
good to explain bits of code that are abnormal, both for others who look at your code, and so you understand it when you come back to
it. The without the fix, the ball might hit a corner of the bat, change direction, and one frame later still find itself inside the
bat. Then it would again think it has been hit, and change its direction. This can happen several times, making the ball's motion
completely unrealistic. So we have a variable, <TT
CLASS="FUNCTION"
>self.hit</TT
>, which we set to TRUE when it has been hit, and FALSE one frame
later. When we check if the rectangles have collided, we also check if <TT
CLASS="FUNCTION"
>self.hit</TT
> is TRUE/FALSE, to stop internal bouncing.</P
><P
>The important code here is pretty easy to understand. All rectangles have a <TT
CLASS="FUNCTION"
>colliderect</TT
> function, into which you feed the
rectangle of another object, which returns 1 (TRUE) if the rectangles do overlap, and 0 (FALSE) if not. If they do, we can change the
direction by subtracting the current angle from <TT
CLASS="FUNCTION"
>pi</TT
> (again, a handy trick you can do with radians, which will adjust the
angle by 90 degrees and send it off in the right direction; you might find at this point that a thorough understanding of radians is
in order!). Just to finish the glitch checking, we switch <TT
CLASS="FUNCTION"
>self.hit</TT
> back to FALSE if it's the frame after they were hit.</P
><P
>We also then recompile the vector. You would of course want to remove the same line in the previous chunk of code, so that you only do
this once after the <TT
CLASS="FUNCTION"
>if-else</TT
> conditional statement. And that's it! The combined code will now allow the ball to hit sides
and bats.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN225"
></A
>6.3. The Finished product</H2
><P
>The final product, with all the bits of code thrown together, as well as some other bits ofcode to glue it all together, will look
like this:</P
>
<pre class="PROGRAMLISTING">
<span style='color=#000000'></span><span style='color:#808080'><i>#!/usr/bin/python
#
# Tom's Pong
# A simple pong game with realistic physics and AI
# http://www.tomchance.uklinux.net/projects/pong.shtml
#
# Released under the GNU General Public License

</i></span><span style='color:#000000'>VERSION </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff0000'>"0.4"

</span><span style='color:#000000'><b>try</b></span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>        </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> sys
        </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> random
        </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> math
        </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> os
        </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> getopt
        </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> pygame
        </span><span style='color:#ff00ff'>from</span><span style='color:#000000'> socket </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> </span><span style='color:#ff00ff'>*
</span><span style='color:#000000'>        </span><span style='color:#ff00ff'>from</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#800000'>locals</span><span style='color:#000000'> </span><span style='color:#ff00ff'>import</span><span style='color:#000000'> </span><span style='color:#ff00ff'>*
</span><span style='color:#000000'><b>except</b> ImportError, err</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>        <b>print</b> </span><span style='color:#ff0000'>"couldn't load module. </span><span style='color:#ff00ff'>%s</span><span style='color:#ff0000'>"</span><span style='color:#000000'> </span><span style='color:#ff00ff'>%</span><span style='color:#000000'> </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>err</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>        sys</span><span style='color:#800080'>.</span><span style='color:#800000'>exit</span><span style='color:#ff00ff'>(</span><span style='color:#0000ff'>2</span><span style='color:#ff00ff'>)

</span><span style='color:#000000'><b>def</b> load_png</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>name</span><span style='color:#ff00ff'>):
</span><span style='color:#808080'><i>        """ Load image and return image object"""
</i></span><span style='color:#000000'>        fullname </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> os</span><span style='color:#800080'>.</span><span style='color:#000000'>path</span><span style='color:#008000'>.j</span><span style='color:#000000'>oin</span><span style='color:#ff00ff'>(</span><span style='color:#ff0000'>'data'</span><span style='color:#000000'>, name</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>        <b>try</b></span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>                image </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>image</span><span style='color:#800080'>.</span><span style='color:#000000'>load</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>fullname</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                <b>if</b> image</span><span style='color:#800080'>.</span><span style='color:#000000'>get_alpha <b>is</b> </span><span style='color:#008000'>None</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>                        image </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> image</span><span style='color:#800080'>.</span><span style='color:#000000'>convert</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>                <b>else</b></span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>                        image </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> image</span><span style='color:#800080'>.</span><span style='color:#000000'>convert_alpha</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>        <b>except</b> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>error, message</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>                <b>print</b> </span><span style='color:#ff0000'>'Cannot load image:'</span><span style='color:#000000'>, fullname
                <b>raise</b> SystemExit, message
        <b>return</b> image, image</span><span style='color:#800080'>.</span><span style='color:#000000'>get_rect</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>
<b>class</b> Ball</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>Sprite</span><span style='color:#ff00ff'>):
</span><span style='color:#808080'><i>        """A ball that will move across the screen
        Returns: ball object
        Functions: update, calcnewpos
        Attributes: area, vector"""
</i></span><span style='color:#000000'>
        <b>def</b> __init__</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#000000'>, </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>xy</span><span style='color:#ff00ff'>)</span><span style='color:#000000'>, vector</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>Sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>__init__</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>image, </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> load_png</span><span style='color:#ff00ff'>(</span><span style='color:#ff0000'>'ball.png'</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                screen </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>display</span><span style='color:#800080'>.</span><span style='color:#000000'>get_surface</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> screen</span><span style='color:#800080'>.</span><span style='color:#000000'>get_rect</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>vector </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> vector
		</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#0000ff'>0

</span><span style='color:#000000'>        <b>def</b> update</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                newpos </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>calcnewpos</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect,</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>vector</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> newpos
		</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>angle,z</span><span style='color:#ff00ff'>)</span><span style='color:#000000'> </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>vector

		<b>if</b> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>contains</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>newpos</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>			tl </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>collidepoint</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>newpos</span><span style='color:#800080'>.</span><span style='color:#000000'>topleft</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>			tr </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>collidepoint</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>newpos</span><span style='color:#800080'>.</span><span style='color:#000000'>topright</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>			bl </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>collidepoint</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>newpos</span><span style='color:#800080'>.</span><span style='color:#000000'>bottomleft</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>			br </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>collidepoint</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>newpos</span><span style='color:#800080'>.</span><span style='color:#000000'>bottomright</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>			<b>if</b> tr and tl <b>or</b> </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>br and bl</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>				angle </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff00ff'>-</span><span style='color:#000000'>angle
			<b>if</b> tl and bl</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				</span><span style='color:#808080'><i>#self.offcourt()
</i></span><span style='color:#000000'>				angle </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> math</span><span style='color:#800080'>.</span><span style='color:#000000'>pi </span><span style='color:#ff00ff'>-</span><span style='color:#000000'> angle
			<b>if</b> tr and br</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				angle </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> math</span><span style='color:#800080'>.</span><span style='color:#000000'>pi </span><span style='color:#ff00ff'>-</span><span style='color:#000000'> angle
				</span><span style='color:#808080'><i>#self.offcourt()
</i></span><span style='color:#000000'>		<b>else</b></span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>			</span><span style='color:#808080'><i># Deflate the rectangles so you can't catch a ball behind the bat
</i></span><span style='color:#000000'>			player1</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#800080'>.</span><span style='color:#000000'>inflate</span><span style='color:#ff00ff'>(-</span><span style='color:#0000ff'>3</span><span style='color:#000000'>, </span><span style='color:#ff00ff'>-</span><span style='color:#0000ff'>3</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>			player2</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#800080'>.</span><span style='color:#000000'>inflate</span><span style='color:#ff00ff'>(-</span><span style='color:#0000ff'>3</span><span style='color:#000000'>, </span><span style='color:#ff00ff'>-</span><span style='color:#0000ff'>3</span><span style='color:#ff00ff'>)

</span><span style='color:#000000'>			</span><span style='color:#808080'><i># Do ball and bat collide?
</i></span><span style='color:#000000'>			</span><span style='color:#808080'><i># Note I put in an odd rule that sets self.hit to 1 when they collide, and unsets it in the next
</i></span><span style='color:#000000'>			</span><span style='color:#808080'><i># iteration. this is to stop odd ball behaviour where it finds a collision *inside* the
</i></span><span style='color:#000000'>			</span><span style='color:#808080'><i># bat, the ball reverses, and is still inside the bat, so bounces around inside.
</i></span><span style='color:#000000'>			</span><span style='color:#808080'><i># This way, the ball can always escape and bounce away cleanly
</i></span><span style='color:#000000'>			<b>if</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#800080'>.</span><span style='color:#000000'>colliderect</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>player1</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>)</span><span style='color:#000000'> </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> </span><span style='color:#0000ff'>1</span><span style='color:#000000'> and <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				angle </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> math</span><span style='color:#800080'>.</span><span style='color:#000000'>pi </span><span style='color:#ff00ff'>-</span><span style='color:#000000'> angle
				</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit
			<b>elif</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#800080'>.</span><span style='color:#000000'>colliderect</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>player2</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>)</span><span style='color:#000000'> </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> </span><span style='color:#0000ff'>1</span><span style='color:#000000'> and <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				angle </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> math</span><span style='color:#800080'>.</span><span style='color:#000000'>pi </span><span style='color:#ff00ff'>-</span><span style='color:#000000'> angle
				</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit
			<b>elif</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> <b>not</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>hit
		</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>vector </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>angle,z</span><span style='color:#ff00ff'>)

</span><span style='color:#000000'>        <b>def</b> calcnewpos</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#000000'>,rect,vector</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>angle,z</span><span style='color:#ff00ff'>)</span><span style='color:#000000'> </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> vector
                </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>dx,dy</span><span style='color:#ff00ff'>)</span><span style='color:#000000'> </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>z</span><span style='color:#ff00ff'>*</span><span style='color:#000000'>math</span><span style='color:#800080'>.</span><span style='color:#000000'>cos</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>angle</span><span style='color:#ff00ff'>)</span><span style='color:#000000'>,z</span><span style='color:#ff00ff'>*</span><span style='color:#000000'>math</span><span style='color:#800080'>.</span><span style='color:#000000'>sin</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>angle</span><span style='color:#ff00ff'>))
</span><span style='color:#000000'>                <b>return</b> rect</span><span style='color:#800080'>.</span><span style='color:#000000'>move</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>dx,dy</span><span style='color:#ff00ff'>)

</span><span style='color:#000000'><b>class</b> Bat</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>Sprite</span><span style='color:#ff00ff'>):
</span><span style='color:#808080'><i>        """Movable tennis 'bat' with which one hits the ball
        Returns: bat object
        Functions: reinit, update, moveup, movedown
        Attributes: which, speed"""
</i></span><span style='color:#000000'>
        <b>def</b> __init__</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#000000'>, side</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>Sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>__init__</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>image, </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> load_png</span><span style='color:#ff00ff'>(</span><span style='color:#ff0000'>'bat.png'</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                screen </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>display</span><span style='color:#800080'>.</span><span style='color:#000000'>get_surface</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> screen</span><span style='color:#800080'>.</span><span style='color:#000000'>get_rect</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>side </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> side
                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>speed </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#0000ff'>10
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>state </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff0000'>"still"
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>reinit</span><span style='color:#ff00ff'>()

</span><span style='color:#000000'>        <b>def</b> reinit</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>state </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff0000'>"still"
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff00ff'>[</span><span style='color:#0000ff'>0</span><span style='color:#000000'>,</span><span style='color:#0000ff'>0</span><span style='color:#ff00ff'>]
</span><span style='color:#000000'>                <b>if</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>side </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> </span><span style='color:#ff0000'>"left"</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>                        </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#800080'>.</span><span style='color:#000000'>midleft </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>midleft
                <b>elif</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>side </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> </span><span style='color:#ff0000'>"right"</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>                        </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#800080'>.</span><span style='color:#000000'>midright </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>midright

        <b>def</b> update</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                newpos </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#800080'>.</span><span style='color:#000000'>move</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                <b>if</b> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>area</span><span style='color:#800080'>.</span><span style='color:#000000'>contains</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>newpos</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                        </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>rect </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> newpos
                pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>event</span><span style='color:#800080'>.</span><span style='color:#000000'>pump</span><span style='color:#ff00ff'>()

</span><span style='color:#000000'>        <b>def</b> moveup</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos</span><span style='color:#ff00ff'>[</span><span style='color:#0000ff'>1</span><span style='color:#ff00ff'>]</span><span style='color:#000000'> </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos</span><span style='color:#ff00ff'>[</span><span style='color:#0000ff'>1</span><span style='color:#ff00ff'>]</span><span style='color:#000000'> </span><span style='color:#ff00ff'>-</span><span style='color:#000000'> </span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>speed</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>		</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>state </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff0000'>"moveup"

</span><span style='color:#000000'>        <b>def</b> movedown</span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#ff00ff'>):
</span><span style='color:#000000'>                </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos</span><span style='color:#ff00ff'>[</span><span style='color:#0000ff'>1</span><span style='color:#ff00ff'>]</span><span style='color:#000000'> </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos</span><span style='color:#ff00ff'>[</span><span style='color:#0000ff'>1</span><span style='color:#ff00ff'>]</span><span style='color:#000000'> </span><span style='color:#ff00ff'>+</span><span style='color:#000000'> </span><span style='color:#ff00ff'>(</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>speed</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>		</span><span style='color:#008000'>self</span><span style='color:#800080'>.</span><span style='color:#000000'>state </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff0000'>"movedown"


</span><span style='color:#000000'><b>def</b> main</span><span style='color:#ff00ff'>():
</span><span style='color:#000000'>        </span><span style='color:#808080'><i># Initialise screen
</i></span><span style='color:#000000'>        pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>init</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>        screen </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>display</span><span style='color:#800080'>.</span><span style='color:#000000'>set_mode</span><span style='color:#ff00ff'>((</span><span style='color:#0000ff'>640</span><span style='color:#000000'>, </span><span style='color:#0000ff'>480</span><span style='color:#ff00ff'>))
</span><span style='color:#000000'>        pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>display</span><span style='color:#800080'>.</span><span style='color:#000000'>set_caption</span><span style='color:#ff00ff'>(</span><span style='color:#ff0000'>'Basic Pong'</span><span style='color:#ff00ff'>)

</span><span style='color:#000000'>        </span><span style='color:#808080'><i># Fill background
</i></span><span style='color:#000000'>        background </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>Surface</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>screen</span><span style='color:#800080'>.</span><span style='color:#000000'>get_size</span><span style='color:#ff00ff'>())
</span><span style='color:#000000'>        background </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> background</span><span style='color:#800080'>.</span><span style='color:#000000'>convert</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>        background</span><span style='color:#800080'>.</span><span style='color:#000000'>fill</span><span style='color:#ff00ff'>((</span><span style='color:#0000ff'>0</span><span style='color:#000000'>, </span><span style='color:#0000ff'>0</span><span style='color:#000000'>, </span><span style='color:#0000ff'>0</span><span style='color:#ff00ff'>))
</span><span style='color:#000000'>
	</span><span style='color:#808080'><i># Initialise players
</i></span><span style='color:#000000'>	<b>global</b> player1
	<b>global</b> player2
	player1 </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> Bat</span><span style='color:#ff00ff'>(</span><span style='color:#ff0000'>"left"</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>	player2 </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> Bat</span><span style='color:#ff00ff'>(</span><span style='color:#ff0000'>"right"</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>
	</span><span style='color:#808080'><i># Initialise ball
</i></span><span style='color:#000000'>	speed </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#0000ff'>13
</span><span style='color:#000000'>	rand </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff00ff'>((</span><span style='color:#0000ff'>0</span><span style='color:#800080'>.1</span><span style='color:#000000'> </span><span style='color:#ff00ff'>*</span><span style='color:#000000'> </span><span style='color:#ff00ff'>(</span><span style='color:#000000'>random</span><span style='color:#800080'>.</span><span style='color:#000000'>randint</span><span style='color:#ff00ff'>(</span><span style='color:#0000ff'>5</span><span style='color:#000000'>,</span><span style='color:#0000ff'>8</span><span style='color:#ff00ff'>))))
</span><span style='color:#000000'>	ball </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> Ball</span><span style='color:#ff00ff'>((</span><span style='color:#0000ff'>0</span><span style='color:#000000'>,</span><span style='color:#0000ff'>0</span><span style='color:#ff00ff'>)</span><span style='color:#000000'>,</span><span style='color:#ff00ff'>(</span><span style='color:#0000ff'>0</span><span style='color:#800080'>.47</span><span style='color:#000000'>,speed</span><span style='color:#ff00ff'>))
</span><span style='color:#000000'>
	</span><span style='color:#808080'><i># Initialise sprites
</i></span><span style='color:#000000'>	playersprites </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>RenderPlain</span><span style='color:#ff00ff'>((</span><span style='color:#000000'>player1, player2</span><span style='color:#ff00ff'>))
</span><span style='color:#000000'>	ballsprite </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>sprite</span><span style='color:#800080'>.</span><span style='color:#000000'>RenderPlain</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>ball</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>
        </span><span style='color:#808080'><i># Blit everything to the screen
</i></span><span style='color:#000000'>        screen</span><span style='color:#800080'>.</span><span style='color:#000000'>blit</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>background, </span><span style='color:#ff00ff'>(</span><span style='color:#0000ff'>0</span><span style='color:#000000'>, </span><span style='color:#0000ff'>0</span><span style='color:#ff00ff'>))
</span><span style='color:#000000'>        pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>display</span><span style='color:#800080'>.</span><span style='color:#000000'>flip</span><span style='color:#ff00ff'>()

</span><span style='color:#000000'>	</span><span style='color:#808080'><i># Initialise clock
</i></span><span style='color:#000000'>	clock </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>time</span><span style='color:#800080'>.</span><span style='color:#000000'>Clock</span><span style='color:#ff00ff'>()

</span><span style='color:#000000'>        </span><span style='color:#808080'><i># Event loop
</i></span><span style='color:#000000'>        <b>while</b> </span><span style='color:#0000ff'>1</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>		</span><span style='color:#808080'><i># Make sure game doesn't run at more than 60 frames per second
</i></span><span style='color:#000000'>		clock</span><span style='color:#800080'>.</span><span style='color:#000000'>tick</span><span style='color:#ff00ff'>(</span><span style='color:#0000ff'>60</span><span style='color:#ff00ff'>)

</span><span style='color:#000000'>		<b>for</b> event <b>in</b> pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>event</span><span style='color:#800080'>.</span><span style='color:#000000'>get</span><span style='color:#ff00ff'>():
</span><span style='color:#000000'>			<b>if</b> event</span><span style='color:#800080'>.</span><span style='color:#800000'>type</span><span style='color:#000000'> </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> QUIT</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				<b>return
</b>			<b>elif</b> event</span><span style='color:#800080'>.</span><span style='color:#800000'>type</span><span style='color:#000000'> </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> KEYDOWN</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				<b>if</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_a</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>					player1</span><span style='color:#800080'>.</span><span style='color:#000000'>moveup</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>				<b>if</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_z</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>					player1</span><span style='color:#800080'>.</span><span style='color:#000000'>movedown</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>				<b>if</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_UP</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>					player2</span><span style='color:#800080'>.</span><span style='color:#000000'>moveup</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>				<b>if</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_DOWN</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>					player2</span><span style='color:#800080'>.</span><span style='color:#000000'>movedown</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>			<b>elif</b> event</span><span style='color:#800080'>.</span><span style='color:#800000'>type</span><span style='color:#000000'> </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> KEYUP</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>				<b>if</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_a <b>or</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_z</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>					player1</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff00ff'>[</span><span style='color:#0000ff'>0</span><span style='color:#000000'>,</span><span style='color:#0000ff'>0</span><span style='color:#ff00ff'>]
</span><span style='color:#000000'>					player1</span><span style='color:#800080'>.</span><span style='color:#000000'>state </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff0000'>"still"
</span><span style='color:#000000'>				<b>if</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_UP <b>or</b> event</span><span style='color:#800080'>.</span><span style='color:#000000'>key </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> K_DOWN</span><span style='color:#ff00ff'>:
</span><span style='color:#000000'>					player2</span><span style='color:#800080'>.</span><span style='color:#000000'>movepos </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff00ff'>[</span><span style='color:#0000ff'>0</span><span style='color:#000000'>,</span><span style='color:#0000ff'>0</span><span style='color:#ff00ff'>]
</span><span style='color:#000000'>					player2</span><span style='color:#800080'>.</span><span style='color:#000000'>state </span><span style='color:#ff00ff'>=</span><span style='color:#000000'> </span><span style='color:#ff0000'>"still"

</span><span style='color:#000000'>                screen</span><span style='color:#800080'>.</span><span style='color:#000000'>blit</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>background, ball</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>,</span><span style='color:#000000'> ball</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>		screen</span><span style='color:#800080'>.</span><span style='color:#000000'>blit</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>background, player1</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>,</span><span style='color:#000000'> player1</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>		screen</span><span style='color:#800080'>.</span><span style='color:#000000'>blit</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>background, player2</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>,</span><span style='color:#000000'> player2</span><span style='color:#800080'>.</span><span style='color:#000000'>rect</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>		ballsprite</span><span style='color:#800080'>.</span><span style='color:#000000'>update</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>		playersprites</span><span style='color:#800080'>.</span><span style='color:#000000'>update</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>		ballsprite</span><span style='color:#800080'>.</span><span style='color:#000000'>draw</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>screen</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>		playersprites</span><span style='color:#800080'>.</span><span style='color:#000000'>draw</span><span style='color:#ff00ff'>(</span><span style='color:#000000'>screen</span><span style='color:#ff00ff'>)
</span><span style='color:#000000'>                pygame</span><span style='color:#800080'>.</span><span style='color:#000000'>display</span><span style='color:#800080'>.</span><span style='color:#000000'>flip</span><span style='color:#ff00ff'>()
</span><span style='color:#000000'>

<b>if</b> __name__ </span><span style='color:#ff00ff'>==</span><span style='color:#000000'> </span><span style='color:#ff0000'>'__main__'</span><span style='color:#ff00ff'>:</span><span style='color:#000000'> main</span><span style='color:#ff00ff'>()
</span></pre>

<P
>As well as showing you the final product, I'll point you back to TomPong, upon which all of this is based. Download it, have a look
at the source code, and you'll see a full implementation of pong using all of the code you've seen in this tutorial, as well as lots of
other code I've added in various versions, such as some extra physics for spinning, and various other bug and glitch fixes.</P
><P
>Oh, find TomPong at <A
HREF="http://www.tomchance.uklinux.net/projects/pong.shtml"
TARGET="_top"
><I
CLASS="CITETITLE"
>http://www.tomchance.uklinux.net/projects/pong.shtml</I
></A
>.</P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="games5.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="MakeGames.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>User-controllable objects</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
></TABLE
>

</body>
</html>



</DIV
></BODY
></HTML
>
